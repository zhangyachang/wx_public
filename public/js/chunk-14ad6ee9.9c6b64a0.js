(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-14ad6ee9"],{"8d96":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjhFRTQ4NkMyOTcwQjExRTlBMjUxRDdGQTEzMUY2OUJBIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjhFRTQ4NkMzOTcwQjExRTlBMjUxRDdGQTEzMUY2OUJBIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6OEVFNDg2QzA5NzBCMTFFOUEyNTFEN0ZBMTMxRjY5QkEiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6OEVFNDg2QzE5NzBCMTFFOUEyNTFEN0ZBMTMxRjY5QkEiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz57gJg9AAAB1klEQVR42qyUXShDYRjHn3OMGWKGO/m8oBRGaRfDjUaulTuyayWuyD13ZnFLmZsptxZxIy5G+UhRyudyIwzlo3E4/s867+lstmzlqV/n/fjv3/u8e59HUlWV4qNx7KkcnwHQASpBMbgHZyAA/IeT1mtNq/9OMpphIxufCTAIMil5fIJZMA7ef5nBqASfNWCn1OMAdII73QxGWRhvAodQ1ZeZqKcli5oqTVSQI9Hzm0r7lwr5gxE6ufkyGgZBO/gQZlOYDPOOLBMNdVmoz2kmSfp9FE7Etx0h7+o7fX/ryx4wIjWMPpZpFxu9o+FuC/W3mv/Mb2ErQp6Afl0KqMY5yC2MODU+USrBOtZrwQO3rP390eA7SpRaomAd6w3hYrMqMbNXmCidiNPXsFmRmBXmSmmZ2fJi9DY2exCzx1c1LbPwS4w+zGYX+gu8UtIyi9OfstmGmC3vfpCa4uFYx3pDrLPZvPZO6Cik0CIeZCrBOtYb3tmcjOoPYTAjVqfxsn14kMlOGK0A7LPOEFz0oaS1WVeaQb0OMzVXmciK2nxCbe5dKLSE2jyOrc0d0KbX5n91DVmsIl1ecHKmWr+iP/qZV9PfJWyOCTqtC9SCfHALzsFKsk77I8AA/5y22dWx5zcAAAAASUVORK5CYII="},a0ae:function(t,e,a){},a7a9:function(t,e,a){"use strict";var s=a("a0ae"),r=a.n(s);r.a},f441:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"c_procedure"},[s("CContentHeader",{attrs:{content:"流程管理"}}),s("div",{staticClass:"c_tab"},[s("el-tabs",{model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[s("el-tab-pane",{attrs:{label:"流程中心",name:"first"}},[s("div",{staticClass:"c_procedure_main"},[s("router-link",{staticClass:"c_tab_table_button",attrs:{to:"/procedureSetTemplate"}},[s("i",{staticClass:"el-icon-plus"}),t._v(" 新建流程\n                    ")]),s("el-table",{staticStyle:{width:"100%"},attrs:{data:t.templateList}},[s("el-table-column",{attrs:{prop:"name",label:"流程名称",width:"320"}}),s("el-table-column",{attrs:{prop:"create_user_name",label:"创建人",width:"310"}}),s("el-table-column",{attrs:{prop:"time",label:"时间",width:"320"}}),s("el-table-column",{attrs:{prop:"statuName",label:"流程状态","min-width":"240"}}),s("el-table-column",{attrs:{width:"340",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("div",{staticClass:"c_operate flex"},[s("p",[t._v(t._s(1===e.row.status?"已启用":"已停止"))]),s("div",{staticClass:"c_operate_wrap",class:[1===e.row.status?"c_operate_wrap_nactive":"c_operate_wrap_active"],on:{click:function(a){return t.handleEnable(e.row)}}},[s("img",{staticClass:"c_operate_icon",attrs:{src:a("8d96")}})])]),s("div",{staticClass:"c_procedure_right",on:{mouseleave:function(t){e.row.isShowUpdate=!1}}},[s("div",{staticClass:"c_procedure_icon",on:{click:function(t){e.row.isShowUpdate=!0}}},[s("i",{staticClass:"el-icon-more"})]),t.templateList.length<9?s("div",{directives:[{name:"show",rawName:"v-show",value:e.row.isShowUpdate,expression:"scope.row.isShowUpdate"}],staticClass:"c_procedure_operate"},[s("div",{staticClass:"c_procedure_operate_item"},[s("router-link",{staticClass:"c_procedure_operate_item_a",attrs:{to:"/procedureEdit/"+e.row.name+"/"+e.row._id}},[t._v("修改")])],1),s("div",{staticClass:"c_procedure_operate_item",on:{click:function(a){return t.delBtn(e.row,e.$index)}}},[t._v("删除")])]):s("div",{directives:[{name:"show",rawName:"v-show",value:e.row.isShowUpdate,expression:"scope.row.isShowUpdate"}],class:[e.$index<t.templateList.length-2?"c_procedure_operate":"c_procedure_operate_top"]},[s("div",{staticClass:"c_procedure_operate_item"},[s("router-link",{staticClass:"c_procedure_operate_item_a",attrs:{to:"/procedureEdit/"+e.row.name+"/"+e.row._id}},[t._v("修改")])],1),s("div",{staticClass:"c_procedure_operate_item",on:{click:function(a){return t.delBtn(e.row,e.$index)}}},[t._v("删除")])])])]}}])})],1)],1)])],1)],1)],1)},r=[],i=(a("7f7f"),a("96cf"),a("3b8d")),n={data:function(){return{activeName:"first",pageIndex:1,pageSize:10,pageTotal:100,type:1,templateList:[{name:"曲靖APP新建申请",province:"管理员",city:"2019-06-05 16:40",address:"应用中"},{name:"曲靖APP新建申请",province:"管理员",city:"2019-06-05 16:40",address:"应用中"},{name:"曲靖APP新建申请",province:"管理员",city:"2019-06-05 16:40",address:"应用中"},{name:"曲靖APP新建申请",province:"管理员",city:"2019-06-05 16:40",address:"应用中"},{name:"曲靖APP新建申请",province:"管理员",city:"2019-06-05 16:40",address:"应用中"}],userid:"zxp17",company_id:"5d1463a61609d536e0bf2a1e"}},mounted:function(){this.getTemplateList()},methods:{ceshi:function(t){console.log(t)},delBtn:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e,a){var s,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return console.log(e),t.next=3,this.$zero.DeleteTips("是否删除“".concat(e.name,"”流程"));case 3:if(s=t.sent,s){t.next=6;break}return t.abrupt("return");case 6:return console.log("删除了"),t.next=9,this.$api.process.delTemplate({m_id:e._id});case 9:if(r=t.sent,console.log(r),75200!==r.statusCode){t.next=16;break}this.$zero.ToastSuccess("删除成功"),this.getTemplateList(),t.next=17;break;case 16:return t.abrupt("return",this.$zero.ToastError(r.msg));case 17:case"end":return t.stop()}},t,this)}));function e(e,a){return t.apply(this,arguments)}return e}(),handleEnable:function(t){console.log(t);var e=t.status;e=1===e?2:1;var a={status:e,m_id:t._id};this.statusTemplate(a,t)},handleCurrentChange:function(t){console.log("当前页: ".concat(t))},statusTemplate:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e,a){var s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$api.process.statusTemplate(e);case 2:if(s=t.sent,console.log(s),75200===s.statusCode){t.next=6;break}return t.abrupt("return",this.$zero.ToastError("修改状态失败：".concat(s.msg)));case 6:this.$zero.ToastSuccess("状态修改成功"),a.status=e.status,1===e.status?a.statuName="应用中":a.statuName="已停用";case 9:case"end":return t.stop()}},t,this)}));function e(e,a){return t.apply(this,arguments)}return e}(),getTemplateList:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e,a,s,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$api.process.getTemplateList({company_id:this.company_id,userid:this.userid,type:this.type});case 2:if(e=t.sent,console.log(e),75200===e.statusCode){t.next=6;break}return t.abrupt("return",this.$zero.ToastWarning(e.msg));case 6:for(this.templateList=JSON.parse(JSON.stringify(e.list)),a=0;a<this.templateList.length;a++)s=this.templateList[a].meta.createAt,r=s.substring(0,s.indexOf("T"))+" "+s.substring(s.indexOf("T")+1,s.indexOf(".")),this.templateList[a].time=r,this.$set(this.templateList[a],"isShowUpdate",!1),1===this.templateList[a].status?this.templateList[a].statuName="应用中":this.templateList[a].statuName="已停用";console.log(this.templateList);case 9:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),showUpdate:function(t){console.log(t),t.isShowUpdate=!0}}},c=n,o=(a("a7a9"),a("2877")),l=Object(o["a"])(c,s,r,!1,null,null,null);e["default"]=l.exports}}]);
//# sourceMappingURL=chunk-14ad6ee9.9c6b64a0.js.map