{"version":3,"sources":["webpack:///./src/views/c_power/powerCreateRoles.vue?ebac","webpack:///src/views/c_power/powerCreateRoles.vue","webpack:///./src/views/c_power/powerCreateRoles.vue?849b","webpack:///./src/views/c_power/powerCreateRoles.vue?bb93","webpack:///./node_modules/core-js/modules/es6.regexp.replace.js","webpack:///./src/views/c_power/powerCreateRoles.vue?1867"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","isShowIcon","content","title","staticClass","_v","directives","name","rawName","value","expression","type","placeholder","domProps","on","input","$event","target","composing","userName","alias","autosize","minRows","model","callback","$$v","description","plain","click","dialog","_l","item","key","id","_s","addRoleBtn","twoTitle","dialogShow","powerList","update:dialogShow","update:dialog-show","submit","submitBtn","reset","resetBtn","staticRenderFns","powerCreateRolesvue_type_script_lang_js_","data","roleId","setPowerList","user_id","company_id","mounted","console","log","$route","params","getOne","methods","JSON","parse","stringify","length","addRole","_addRole","Object","asyncToGenerator","regeneratorRuntime","mark","_callee","menus","result","wrap","_context","prev","next","$api","authorized","sent","statusCode","$zero","ToastSuccess","setTimeout","window","location","href","ToastWarning","msg","stop","_x","_x2","_x3","apply","arguments","reviseRole","_reviseRole","_callee2","res","_context2","roleid","_x4","_x5","_x6","_getOne","_callee3","i","_context3","abrupt","role","_name","_id","level","serial","parent_id","push","judge","replace","test","toLowerCase","beforeDestroy","eventBus","$off","components","PowerDeploy","c_powerDeploy","c_power_powerCreateRolesvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__","anObject","__webpack_require__","toObject","toLength","toInteger","advanceStringIndex","regExpExec","max","Math","min","floor","SUBSTITUTION_SYMBOLS","SUBSTITUTION_SYMBOLS_NO_NAMED","maybeToString","it","undefined","String","defined","REPLACE","$replace","maybeCallNative","searchValue","replaceValue","O","fn","call","regexp","done","rx","S","functionalReplace","global","fullUnicode","unicode","lastIndex","results","matchStr","accumulatedResult","nextSourcePosition","matched","position","index","captures","j","namedCaptures","groups","replacerArgs","concat","replacement","getSubstitution","slice","str","tailPos","m","symbols","match","ch","capture","charAt","n","f","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_powerCreateRoles_vue_vue_type_style_index_0_id_90e06dd8_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_powerCreateRoles_vue_vue_type_style_index_0_id_90e06dd8_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"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","file":"js/chunk-2b9c4fae.fb3217bc.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('CContentHeader',{attrs:{\"isShowIcon\":true,\"content\":_vm.title}}),_c('div',{staticClass:\"c_create_roles_main\"},[_c('h3',[_vm._v(\"名称\")]),_c('div',{staticClass:\"c_create_roles_total\"},[_c('div',{staticClass:\"c_create_roles_input c_input_color\"},[_c('span',[_vm._v(\"角色名称：\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.userName),expression:\"userName\"}],staticClass:\"c_create_roles_input_frame\",attrs:{\"type\":\"text\",\"placeholder\":\"请输入名称\"},domProps:{\"value\":(_vm.userName)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.userName=$event.target.value}}})]),_c('div',{staticClass:\"c_create_roles_input c_input_color\"},[_c('span',[_vm._v(\"角色别名：\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.alias),expression:\"alias\"}],staticClass:\"c_create_roles_input_frame\",attrs:{\"type\":\"text\",\"placeholder\":\"请输入别名\"},domProps:{\"value\":(_vm.alias)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.alias=$event.target.value}}})])]),_c('div',{staticClass:\"c_create_roles_describe_box\"},[_c('div',{staticClass:\"c_create_roles_describe c_input_color\"},[_c('span',[_vm._v(\"角色描述：\")]),_c('el-input',{attrs:{\"type\":\"textarea\",\"autosize\":{ minRows: 3},\"placeholder\":\"请输入\"},model:{value:(_vm.description),callback:function ($$v) {_vm.description=$$v},expression:\"description\"}})],1)]),_c('h3',[_vm._v(\"权限\")]),_c('div',{staticClass:\"c_create_roles_power\"},[_c('span',[_vm._v(\"角色权限：\")]),_c('el-button',{staticClass:\"c_create_roles_power_but\",attrs:{\"type\":\"info\",\"plain\":\"\"},on:{\"click\":_vm.dialog}},[_vm._v(\"选择权限\"),_c('i',{staticClass:\"el-icon-arrow-right el-icon--right\"})])],1),_c('div',{staticClass:\"c_create_roles_choice\"},[_c('span',[_vm._v(\"已选权限：\")]),_c('div',{staticClass:\"c_create_roles_power_text\"},_vm._l((_vm.setPowerList),function(item){return _c('div',{key:item.id,staticClass:\"c_create_roles_power_name\"},[_vm._v(\"\\n                    \"+_vm._s(item.name)+\"\\n                \")])}),0)]),_c('div',{staticClass:\"c_create_roles_foot\"},[_c('el-button',{staticClass:\"c_create_roles_foot_btn\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addRoleBtn}},[_vm._v(\"完成\")])],1)]),_c('div',{staticClass:\"c_elastic_frame\"},[_c('PowerDeploy',{attrs:{\"title\":\"选择菜单权限\",\"twoTitle\":\"角色将拥有以下菜单权限\",\"dialogShow\":_vm.dialogShow,\"powerList\":_vm.powerList},on:{\"update:dialogShow\":function($event){_vm.dialogShow=$event},\"update:dialog-show\":function($event){_vm.dialogShow=$event},\"submit\":_vm.submitBtn,\"reset\":_vm.resetBtn}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <CContentHeader :isShowIcon=\"true\" :content=\"title\" />\r\n        <div class=\"c_create_roles_main\">\r\n            <h3>名称</h3>\r\n            <div class=\"c_create_roles_total\">\r\n                <div class=\"c_create_roles_input c_input_color\">\r\n                    <span>角色名称：</span>\r\n                    <!-- <el-input class=\"create_roles_input_frame\" v-model=\"input\" placeholder=\"请输入内容\"></el-input> -->\r\n                    <input type=\"text\" class=\"c_create_roles_input_frame\" placeholder=\"请输入名称\" v-model=\"userName\">\r\n                </div>\r\n                <div class=\"c_create_roles_input c_input_color\">\r\n                    <span>角色别名：</span>\r\n                    <!-- <el-input class=\"create_roles_input_frame\" v-model=\"input\" placeholder=\"请输入内容\"></el-input> -->\r\n                    <input type=\"text\" class=\"c_create_roles_input_frame\" placeholder=\"请输入别名\" v-model=\"alias\">\r\n                </div>\r\n            </div>\r\n            <div class=\"c_create_roles_describe_box\">\r\n                <div class=\"c_create_roles_describe c_input_color\">\r\n                    <span>角色描述：</span>\r\n                    <el-input type=\"textarea\" :autosize=\"{ minRows: 3}\" placeholder=\"请输入\" v-model=\"description\"></el-input>\r\n                </div>\r\n            </div>\r\n            <h3>权限</h3>\r\n            <div class=\"c_create_roles_power\">\r\n                <span>角色权限：</span>\r\n                <el-button @click=\"dialog\" class=\"c_create_roles_power_but\" type=\"info\" plain>选择权限<i class=\"el-icon-arrow-right el-icon--right\"></i></el-button>\r\n            </div>\r\n            <div class=\"c_create_roles_choice\">\r\n                <span>已选权限：</span>\r\n                <div class=\"c_create_roles_power_text\">\r\n                    <div v-for=\"item in setPowerList\" :key=\"item.id\" class=\"c_create_roles_power_name\">\r\n                        {{item.name}}\r\n                    </div>\r\n                    <!-- <div class=\"c_create_roles_power_name\">\r\n                        数据总览\r\n                    </div> -->\r\n\r\n                </div>\r\n            </div>\r\n            <!-- 底部按钮 -->\r\n            <div class=\"c_create_roles_foot\">\r\n                <el-button class=\"c_create_roles_foot_btn\" @click=\"addRoleBtn\" type=\"primary\">完成</el-button>\r\n            </div>\r\n        </div>\r\n\r\n        <!-- 弹框组件 -->\r\n        <div class=\"c_elastic_frame\">\r\n            <PowerDeploy title=\"选择菜单权限\" twoTitle=\"角色将拥有以下菜单权限\" :dialogShow.sync=\"dialogShow\" :powerList=\"powerList\" @submit=\"submitBtn\" @reset=\"resetBtn\"></PowerDeploy>\r\n            <!-- @cancel=\"cancelBtn\"  :menuList=\"menuList\"-->\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    //引入弹框\r\n    import PowerDeploy from \"../../components/c_powerDeploy.vue\"\r\n    export default {\r\n        data() {\r\n            return {\r\n                title: '新建角色',  //标题\r\n                userName: '',\r\n                description: '',\r\n                // menus: [],\r\n                roleId: '',   //传递过来角色id\r\n                alias: '',\r\n                dialogShow: false,\r\n                powerList: [], //给子组件传的权限\r\n                setPowerList: [], //已选的权限\r\n                user_id: 'user_001',\r\n                company_id: 'cp_001'\r\n\r\n\r\n            };\r\n        },\r\n        mounted(){\r\n            console.log(this.$route.params.id);\r\n            this.roleId = this.$route.params.id\r\n            if(this.roleId){\r\n                console.log('我进来没');\r\n                this.title = '修改角色'\r\n                this.getOne()\r\n            }\r\n        },\r\n        methods: {\r\n            submitBtn(item) { //接收子组件传的参数\r\n                this.setPowerList = JSON.parse(JSON.stringify(item));\r\n                this.dialogShow = false;\r\n            },\r\n            resetBtn() { //重置按钮\r\n                this.dialogShow = false;\r\n            },\r\n            dialog() { //权限配置按钮\r\n                this.dialogShow = true;\r\n\r\n                if (this.setPowerList.length === 0) {\r\n                    return;\r\n                }\r\n                this.powerList = JSON.parse(JSON.stringify(this.setPowerList));\r\n            },\r\n            /**\r\n             * 新建角色\r\n             * \r\n             * userName：角色名称\r\n             * description： 角色描述\r\n             * alias：角色别名[开头要英文字母]\r\n             * menus：角色权限\r\n             */\r\n            async addRole(userName,alias,menus) {\r\n                \r\n\r\n                let result = await this.$api.authorized.addRole({\r\n                    userName,\r\n                    description: this.description,\r\n                    menus,\r\n                    alias\r\n                });\r\n\r\n                console.log(result);\r\n                // console.log(this.powerList);\r\n                if (result.statusCode === 75200) {\r\n                    this.$zero.ToastSuccess('新建成功！');\r\n                    setTimeout(()=>{\r\n                        window.location.href = \"/power\";\r\n                    },2000)\r\n                } else {\r\n                    this.$zero.ToastWarning(result.msg);\r\n                }\r\n\r\n            },\r\n            /**\r\n             * 修改角色\r\n             */\r\n            async reviseRole(userName,alias,menus){\r\n                let res = await this.$api.authorized.reviseRole({\r\n                    roleid: this.roleId,\r\n                    name: userName,\r\n                    alias,\r\n                    description: this.description,\r\n                    menus,\r\n                    company_id: this.company_id\r\n                    \r\n                })\r\n                console.log(res);\r\n                // console.log(this.powerList);\r\n                if (res.statusCode === 75200) {\r\n                    this.$zero.ToastSuccess('修改成功！');\r\n                    setTimeout(()=>{\r\n                        window.location.href = \"/power\";\r\n                    },2000)\r\n                } else {\r\n                    this.$zero.ToastWarning(res.msg);\r\n                }\r\n            },\r\n            /**\r\n             * 获取角色信息\r\n             */\r\n            async getOne (){\r\n                console.log(this.user_id);\r\n                \r\n                let res = await this.$api.authorized.getOne({\r\n                    company_id: this.company_id,\r\n                    user_id: this.user_id,\r\n                    roleid: this.roleId\r\n                })\r\n                console.log('获取到了。。。');\r\n                console.log(res);\r\n                if(res.statusCode !== 75200){\r\n                    return  this.$zero.ToastWarning(\"服务异常，请稍后再试\");\r\n                }\r\n                this.userName = res.role._name;\r\n                this.alias = res.role.alias;\r\n                this.description = res.role.description;\r\n                // this.setPowerList = res.role.menus\r\n                for (let i = 0; i < res.role.menus.length; i++) {\r\n                    this.setPowerList[i] = {\r\n                        name: res.role.menus[i]._name,\r\n                        id: res.role.menus[i]._id,\r\n                        level: res.role.menus[i].level,\r\n                        serial: res.role.menus[i].serial,\r\n                        parent_id: res.role.menus[i].parent_id\r\n                    }\r\n                }\r\n\r\n            },\r\n            addRoleBtn() {\r\n                let menus = [];\r\n                for (let i = 0; i < this.setPowerList.length; i++) {\r\n                    menus.push(this.setPowerList[i].id);\r\n                }\r\n                let judge = /^[a-zA-Z]/;\r\n\r\n                let userName = this.userName.replace(/^\\s*|\\s*$/g, \"\");\r\n                let alias = this.alias.replace(/^\\s*|\\s*$/g, \"\");\r\n                // console.log(alias);\r\n                \r\n                // console.log(judge.test(alias));\r\n\r\n                if (userName === \"\") {\r\n                    this.$zero.ToastWarning(\"角色名称不能为空\");\r\n                    return;\r\n                } else if (!judge.test(alias)) {\r\n                    this.$zero.ToastWarning(\"角色别名格式错误，请字母开头\");\r\n                    return;\r\n                } else if(alias.toLowerCase() === 'root'){\r\n                    this.$zero.ToastWarning(\"不可使用root别名\");\r\n                    return;\r\n                }else if (menus.length === 0) {\r\n                    this.$zero.ToastWarning(\"请选择权限\");\r\n                    return;\r\n                }\r\n                // return;\r\n                if(this.roleId){\r\n                    this.reviseRole(userName,alias,menus);\r\n                }else{\r\n                    this.addRole(userName,alias,menus);\r\n                }\r\n                \r\n            }\r\n        },\r\n        beforeDestroy(){\r\n            this.$zero.eventBus.$off(\"addBookLoadMore\");\r\n            this.$zero.eventBus.$off(\"departmentItem\");\r\n        },\r\n        components: {\r\n            PowerDeploy //注册遮罩层组件\r\n        }\r\n\r\n    };\r\n</script>\r\n\r\n<style scoped>\r\n    .c_create_roles_main {\r\n        margin: 20px 40px 0px;\r\n        padding: 20px 0;\r\n        background-color: #fff;\r\n    }\r\n\r\n    .c_create_roles_main>h3 {\r\n        margin: 0 30px;\r\n        line-height: 40px;\r\n        font-size: 18px;\r\n        font-weight: bold;\r\n        border-bottom: 2px solid #ededed;\r\n    }\r\n\r\n    .c_create_roles_total {\r\n        display: flex;\r\n        padding: 25px 35px 0px;\r\n\r\n    }\r\n\r\n\r\n    .c_create_roles_input {\r\n        display: flex;\r\n        font-size: 14px;\r\n        color: #999;\r\n        /* width: 655px; */\r\n        width: 41%;\r\n        align-items: center;\r\n        margin-right: 20px;\r\n    }\r\n\r\n    /* 输入框样式 */\r\n    .c_create_roles_input_frame {\r\n        /* width: 495px; */\r\n        width: 78%;\r\n        border: 1px solid #e6e6e6;\r\n        color: #000;\r\n        height: 38px;\r\n        line-height: 38px;\r\n        box-sizing: border-box;\r\n        padding: 0 15px;\r\n        margin-left: 10px;\r\n    }\r\n\r\n    .c_create_roles_describe_box {\r\n        padding: 25px 35px 35px;\r\n    }\r\n\r\n    .c_create_roles_describe {\r\n        width: 41%;\r\n        display: flex;\r\n        font-size: 14px;\r\n        color: #999;\r\n    }\r\n\r\n    .c_create_roles_describe>span {\r\n        /* width: 74px; */\r\n        margin-right: 10px;\r\n        margin-top: 10px;\r\n    }\r\n\r\n    .c_create_roles_describe .el-textarea {\r\n        width: 78%;\r\n        color: #333;\r\n        /* background-color: #000; */\r\n    }\r\n    .c_create_roles_describe .el-textarea>textarea{\r\n        color: #333;\r\n    }\r\n\r\n    .c_create_roles_power,\r\n    .c_create_roles_choice {\r\n        display: flex;\r\n        padding: 25px 35px 0;\r\n        align-items: center;\r\n        font-size: 14px;\r\n        color: #999;\r\n    }\r\n\r\n    .c_create_roles_power_but.is-plain {\r\n        color: #333;\r\n        border-color: #e6e6e6;\r\n        background-color: #f2f2f2;\r\n        border-radius: 0px;\r\n        padding: 11px 28px;\r\n        margin-left: 10px;\r\n        font-weight: bold;\r\n    }\r\n\r\n    /* .c_create_roles_choice>span {\r\n        position: relative;\r\n        top: -76px;\r\n    } */\r\n\r\n    .c_create_roles_power_text {\r\n        /* width: 500px; */\r\n        /* height: 180px; */\r\n        /* border: 1px solid #e6e6e6; */\r\n        min-height: 30px;\r\n        margin-left: 10px;\r\n        display: flex;\r\n        flex-wrap: wrap;\r\n    }\r\n\r\n    .c_create_roles_power_name {\r\n        background-color: #2f78ef;\r\n        color: #fff;\r\n        font-size: 14px;\r\n        width: 100px;\r\n        height: 30px;\r\n        line-height: 30px;\r\n        text-align: center;\r\n        padding: 0px 10px;\r\n        margin-right: 10px;\r\n        /* margin-bottom: 10px; */\r\n    }\r\n\r\n    /* 底部按钮 */\r\n    .c_create_roles_foot {\r\n        margin-top: 90px;\r\n        border-top: 1px solid #d9d9d9;\r\n        height: 100px;\r\n        width: 100%;\r\n        display: flex;\r\n        justify-content: center;\r\n        align-items: center;\r\n    }\r\n\r\n    .c_create_roles_foot_btn {\r\n        font-size: 16px;\r\n        background-color: #2f78ef;\r\n        border-color: #2f78ef;\r\n        border-radius: 0px;\r\n        padding: 12px 54px;\r\n    }\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./powerCreateRoles.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./powerCreateRoles.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./powerCreateRoles.vue?vue&type=template&id=90e06dd8&scoped=true&\"\nimport script from \"./powerCreateRoles.vue?vue&type=script&lang=js&\"\nexport * from \"./powerCreateRoles.vue?vue&type=script&lang=js&\"\nimport style0 from \"./powerCreateRoles.vue?vue&type=style&index=0&id=90e06dd8&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"90e06dd8\",\n  null\n  \n)\n\nexport default component.exports","'use strict';\n\nvar anObject = require('./_an-object');\nvar toObject = require('./_to-object');\nvar toLength = require('./_to-length');\nvar toInteger = require('./_to-integer');\nvar advanceStringIndex = require('./_advance-string-index');\nvar regExpExec = require('./_regexp-exec-abstract');\nvar max = Math.max;\nvar min = Math.min;\nvar floor = Math.floor;\nvar SUBSTITUTION_SYMBOLS = /\\$([$&`']|\\d\\d?|<[^>]*>)/g;\nvar SUBSTITUTION_SYMBOLS_NO_NAMED = /\\$([$&`']|\\d\\d?)/g;\n\nvar maybeToString = function (it) {\n  return it === undefined ? it : String(it);\n};\n\n// @@replace logic\nrequire('./_fix-re-wks')('replace', 2, function (defined, REPLACE, $replace, maybeCallNative) {\n  return [\n    // `String.prototype.replace` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.replace\n    function replace(searchValue, replaceValue) {\n      var O = defined(this);\n      var fn = searchValue == undefined ? undefined : searchValue[REPLACE];\n      return fn !== undefined\n        ? fn.call(searchValue, O, replaceValue)\n        : $replace.call(String(O), searchValue, replaceValue);\n    },\n    // `RegExp.prototype[@@replace]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@replace\n    function (regexp, replaceValue) {\n      var res = maybeCallNative($replace, regexp, this, replaceValue);\n      if (res.done) return res.value;\n\n      var rx = anObject(regexp);\n      var S = String(this);\n      var functionalReplace = typeof replaceValue === 'function';\n      if (!functionalReplace) replaceValue = String(replaceValue);\n      var global = rx.global;\n      if (global) {\n        var fullUnicode = rx.unicode;\n        rx.lastIndex = 0;\n      }\n      var results = [];\n      while (true) {\n        var result = regExpExec(rx, S);\n        if (result === null) break;\n        results.push(result);\n        if (!global) break;\n        var matchStr = String(result[0]);\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n      }\n      var accumulatedResult = '';\n      var nextSourcePosition = 0;\n      for (var i = 0; i < results.length; i++) {\n        result = results[i];\n        var matched = String(result[0]);\n        var position = max(min(toInteger(result.index), S.length), 0);\n        var captures = [];\n        // NOTE: This is equivalent to\n        //   captures = result.slice(1).map(maybeToString)\n        // but for some reason `nativeSlice.call(result, 1, result.length)` (called in\n        // the slice polyfill when slicing native arrays) \"doesn't work\" in safari 9 and\n        // causes a crash (https://pastebin.com/N21QzeQA) when trying to debug it.\n        for (var j = 1; j < result.length; j++) captures.push(maybeToString(result[j]));\n        var namedCaptures = result.groups;\n        if (functionalReplace) {\n          var replacerArgs = [matched].concat(captures, position, S);\n          if (namedCaptures !== undefined) replacerArgs.push(namedCaptures);\n          var replacement = String(replaceValue.apply(undefined, replacerArgs));\n        } else {\n          replacement = getSubstitution(matched, S, position, captures, namedCaptures, replaceValue);\n        }\n        if (position >= nextSourcePosition) {\n          accumulatedResult += S.slice(nextSourcePosition, position) + replacement;\n          nextSourcePosition = position + matched.length;\n        }\n      }\n      return accumulatedResult + S.slice(nextSourcePosition);\n    }\n  ];\n\n    // https://tc39.github.io/ecma262/#sec-getsubstitution\n  function getSubstitution(matched, str, position, captures, namedCaptures, replacement) {\n    var tailPos = position + matched.length;\n    var m = captures.length;\n    var symbols = SUBSTITUTION_SYMBOLS_NO_NAMED;\n    if (namedCaptures !== undefined) {\n      namedCaptures = toObject(namedCaptures);\n      symbols = SUBSTITUTION_SYMBOLS;\n    }\n    return $replace.call(replacement, symbols, function (match, ch) {\n      var capture;\n      switch (ch.charAt(0)) {\n        case '$': return '$';\n        case '&': return matched;\n        case '`': return str.slice(0, position);\n        case \"'\": return str.slice(tailPos);\n        case '<':\n          capture = namedCaptures[ch.slice(1, -1)];\n          break;\n        default: // \\d\\d?\n          var n = +ch;\n          if (n === 0) return match;\n          if (n > m) {\n            var f = floor(n / 10);\n            if (f === 0) return match;\n            if (f <= m) return captures[f - 1] === undefined ? ch.charAt(1) : captures[f - 1] + ch.charAt(1);\n            return match;\n          }\n          capture = captures[n - 1];\n      }\n      return capture === undefined ? '' : capture;\n    });\n  }\n});\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./powerCreateRoles.vue?vue&type=style&index=0&id=90e06dd8&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./powerCreateRoles.vue?vue&type=style&index=0&id=90e06dd8&scoped=true&lang=css&\""],"sourceRoot":""}