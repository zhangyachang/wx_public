{"version":3,"sources":["webpack:///./src/views/c_appmanage/createAndriod.vue?c923","webpack:///./src/views/c_appmanage/createAndriod.vue?684b","webpack:///src/views/c_appmanage/createAndriod.vue","webpack:///./src/views/c_appmanage/createAndriod.vue?3ff5","webpack:///./src/views/c_appmanage/createAndriod.vue?17ab"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_createAndriod_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_createAndriod_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","content","isShowIcon","isHavaApp","_e","type","on","appFile","uploadFile","inputmodel","uploadInfo","analysis_con","appinfo","allow_ranges","previews","radio","add","addBtn","staticRenderFns","createAndriodvue_type_script_lang_js_","mixins","mixinFn","data","appInfoParser","typeid","middleFilesResult","appFileUrl","logoUrl","methods","arrAllow","item","console","log","i","length","pushObj","dep","_id","user","name","push","_uploadFile","Object","asyncToGenerator","regeneratorRuntime","mark","_callee","files","parser","result","wrap","_context","prev","next","src_default","a","parse","sent","JSON","stringify","version","size","toFixed","icon","packageName","appName","build","CFBundleVersion","stop","_x","apply","arguments","uploadLogo","_uploadLogo","_callee2","_context2","loadding","$zero","wholeLoadding","text","undefined","isBase64","mixinBase64toUrl","mixinUploadImg","imgFile","close","abrupt","file","createApp","uploadPreviewImg","_uploadPreviewImg","_callee3","uploadResult","_context3","ToastWarning","t0","_createApp","_callee4","company_id","user_id","_this","_context4","getCompany_id","getUserid","$api","application","createAndriod","_name","description","appDes","founder","manages","agentid","storage_url","package_type","statusCode","notify","title","message","duration","concat","setTimeout","$router","go","_addBtn","_callee5","uploadAppResult","_context5","mixinUploadApp2url","created","$route","params","components","AppInfo","appInfo","AppVersion","appVersion","AppPreviewImg","appPreviewImg","AppAddBtn","appCreateBtn","uploadApp","selectLocation","viewRange","c_appmanage_createAndriodvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"js/chunk-4ecdae8e.3566819d.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./createAndriod.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./createAndriod.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"add_new_app\"},[_c('CContentHeader',{attrs:{\"content\":\"新建Andriod应用\",\"isShowIcon\":true}}),(!_vm.isHavaApp)?_c('div',{staticClass:\"ana-cover-wrap\"},[_c('uploadApp',{attrs:{\"type\":\"apk\"},on:{\"appFile\":_vm.uploadFile}})],1):_vm._e(),(_vm.isHavaApp)?_c('div',{staticClass:\"ana_content\"},[_c('div',{staticClass:\"ana_content_wrap\"},[_c('AppInfo',{attrs:{\"inputmodel\":_vm.uploadInfo.analysis_con}}),_c('AppVersion',{attrs:{\"appinfo\":_vm.uploadInfo.analysis_con}}),_c('viewRange',{on:{\"allow_ranges\":_vm.allow_ranges}}),_c('AppPreviewImg',{attrs:{\"previews\":_vm.uploadInfo.previews}}),_c('selectLocation',{attrs:{\"radio\":_vm.uploadInfo}}),_c('AppAddBtn',{on:{\"add\":_vm.addBtn}})],1)]):_vm._e(),_c('div',{staticClass:\"ana_loadding\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"add_new_app\">\r\n    <CContentHeader content=\"新建Andriod应用\" :isShowIcon=\"true\" />\r\n\r\n    <div class=\"ana-cover-wrap\" v-if=\"!isHavaApp\">\r\n      <uploadApp @appFile=\"uploadFile\" type=\"apk\" />\r\n    </div>\r\n\r\n    <div class=\"ana_content\" v-if=\"isHavaApp\">\r\n      <div class=\"ana_content_wrap\">\r\n        <AppInfo :inputmodel=\"uploadInfo.analysis_con\" />\r\n        <AppVersion :appinfo=\"uploadInfo.analysis_con\" />\r\n        <viewRange @allow_ranges=\"allow_ranges\" />\r\n        <AppPreviewImg :previews=\"uploadInfo.previews\" />\r\n        <selectLocation :radio=\"uploadInfo\" />\r\n        <AppAddBtn @add=\"addBtn\" />\r\n\r\n      </div>\r\n    </div>\r\n    <!-- 加载中……lodding框 -->\r\n    <div class=\"ana_loadding\">\r\n\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport AppInfo from \"./components/appInfo.vue\";\r\nimport AppVersion from \"./components/appVersion\";\r\nimport AppPreviewImg from \"./components/appPreviewImg\";\r\nimport AppAddBtn from \"./components/appCreateBtn\";\r\nimport uploadApp from \"./components/uploadApp\";\r\nimport selectLocation from './components/selectLocation';\r\nimport viewRange from './components/viewRange'\r\n\r\nimport AppInfoParser from \"app-info-parser\";\r\n\r\n// 公有方法合并\r\nimport myMixinFn from './mixinFn'\r\nexport default {\r\n  mixins: [myMixinFn],\r\n  data() {\r\n    return {\r\n      isHavaApp: false,\r\n      appFile: null, // app文件\r\n      appInfoParser: {}, // 解析出来的appInfoParse\r\n\r\n      // 要上传的信息 以及一些中间结果 传递给子组件让子组件动态改变值\r\n      uploadInfo: {\r\n        analysis_con: {},\r\n        // appName: \"\", // 应用名称\r\n        // appDes: \"\", // 应用介绍\r\n        previews: [], // 预览图片\r\n        typeid: '', // typeid 应用分类 (场外 户内)\r\n        allow_ranges: [], // 允许的\r\n      },\r\n\r\n      // 上传过程中产生的一些网络地址字符串\r\n      middleFilesResult: {\r\n        appFileUrl: \"\", // 应用url地址\r\n        logoUrl: '', // logoURL地址\r\n        previews: [], // 预览图片地址\r\n      }\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    allow_ranges(arrAllow) {\r\n      console.log('这里拿到选择的东西');\r\n      console.log(arrAllow);\r\n      // 修改允许的\r\n      let item;\r\n      for (let i = 0, length = arrAllow.length; i < length; i++) {\r\n        item = arrAllow[i];\r\n        let pushObj = {};\r\n        if (item.type === 'dep') {\r\n          pushObj.type = 'dep';\r\n          pushObj.dep = item._id;\r\n        } else if (item.type === 'user') {\r\n          pushObj.type = 'user';\r\n          pushObj.user = item._id;\r\n        } else {\r\n          // 都不满足则为 企业集团\r\n          pushObj.type = 'dep';\r\n          pushObj.dep = item._id;\r\n        }\r\n        pushObj.name = item.name;\r\n        this.uploadInfo.allow_ranges.push(pushObj);\r\n      }\r\n    },\r\n\r\n    // 选择本地应用包之后\r\n    async uploadFile(files) {\r\n      console.log(\"上传应用包之后\");\r\n      console.log(files);\r\n      this.appFile = files;\r\n      const parser = new AppInfoParser(files[0]);\r\n      const result = await parser.parse();\r\n      console.log(\"分析结果\");\r\n      console.log(result);\r\n      console.log('打印json');\r\n\r\n      console.log(JSON.stringify(result));\r\n      this.appInfoParser = result;\r\n\r\n      // 一些解析出的信息\r\n      this.uploadInfo.version = result[\"versionName\"] || result[\"CFBundleShortVersionString\"];\r\n      this.uploadInfo.size = (this.appFile[0].size / 1024 / 1024).toFixed(2);\r\n      this.uploadInfo.icon = result.icon;\r\n      this.uploadInfo.analysis_con = {\r\n        packageName: result[\"package\"] || result[\"CFBundleIdentifier\"] || result[\"CFBundleName\"],\r\n        appName: result[\"application\"]['label'][0],\r\n        version: result[\"versionName\"] || result[\"CFBundleShortVersionString\"],\r\n        icon: result.icon,\r\n        size: (this.appFile[0].size / 1024 / 1024).toFixed(2),\r\n        build: result.CFBundleVersion || 1 // 不存在等于1\r\n      };\r\n\r\n      console.log('解析包内容');\r\n      console.log(this.uploadInfo);\r\n\r\n      this.isHavaApp = true;\r\n    },\r\n\r\n    // 上传logo\r\n    async uploadLogo() {\r\n      this.loadding = this.$zero.wholeLoadding({ text: '上传logo中...' });\r\n      let logoUrl;\r\n      // 判断当前选择的图片是base64位的还是重新选择了\r\n      if (this.uploadInfo.analysis_con.isBase64 === undefined) {\r\n        logoUrl = await this.mixinBase64toUrl(this.uploadInfo.analysis_con.icon);\r\n      } else {\r\n        logoUrl = await this.mixinUploadImg([this.uploadInfo.analysis_con.imgFile]);\r\n      }\r\n\r\n      this.loadding.close();\r\n      if (!logoUrl) {\r\n        return console.log('logo上传出错了');\r\n      }\r\n\r\n      console.log('url路径地址');\r\n      console.log(logoUrl);\r\n\r\n      this.middleFilesResult.logoUrl = logoUrl[0].file;\r\n      // logo上传完成 上传应用的所有的一些信息\r\n      this.createApp();\r\n    },\r\n\r\n    // 上传预览图\r\n    async uploadPreviewImg() {\r\n      console.log('获取到的图片列表');\r\n      console.log(this.uploadInfo.previews.files);\r\n      try {\r\n        if (!(this.uploadInfo.previews.files && this.uploadInfo.previews.files.length !== 0)) {\r\n          // 如果不存在 或者 这个的长度为0 直接退出\r\n          this.$zero.ToastWarning('没有预览图片');\r\n          // 上传logo\r\n          this.uploadLogo();\r\n          return;\r\n        }\r\n        // console.log('object')\r\n        this.loadding = this.$zero.wholeLoadding({ text: '上传预览图中..' });\r\n        let uploadResult = await this.mixinUploadImg(this.uploadInfo.previews.files);\r\n        this.loadding.close();\r\n\r\n        // 上传logo\r\n        this.uploadLogo();\r\n\r\n        console.log('上传预览图结果');\r\n        console.log(uploadResult);\r\n        if (!uploadResult) {\r\n          return;\r\n        }\r\n\r\n        for (let i = 0; i < uploadResult.length; i++) {\r\n          this.middleFilesResult.previews.push(uploadResult[i].file);\r\n        }\r\n        // this.middleFilesResult.previews = \r\n      } catch (e) {\r\n        console.log('执行过程出错了');\r\n        console.log(e);\r\n      }\r\n    },\r\n\r\n    // 创建app应用\r\n    async createApp() {\r\n      console.log('创建app应用');\r\n      console.log('上传的什么东西');\r\n      console.log(this.uploadInfo);\r\n      console.log('应用的链接');\r\n      console.log(this.middleFilesResult);\r\n\r\n      // 此时肯定有这个东西了 之前判断很多次了\r\n      let company_id = this.$zero.getCompany_id();\r\n      let user_id = this.$zero.getUserid();\r\n\r\n      console.log('创建应用接口调用');\r\n      // 此刻全部上传完成 调取上传应用的接口\r\n      this.loadding = this.$zero.wholeLoadding({ text: '上传应用信息...' });\r\n      let uploadResult = await this.$api.application.createAndriod({\r\n        company_id: company_id,\r\n        _name: this.uploadInfo.analysis_con.appName,\r\n        typeid: this.uploadInfo.typeid,\r\n        icon: this.middleFilesResult.logoUrl,\r\n        description: this.uploadInfo.analysis_con.appDes,\r\n        founder: user_id,\r\n        allow_ranges: this.uploadInfo.allow_ranges,\r\n        manages: [user_id],\r\n        agentid: this.uploadInfo.analysis_con.packageName,\r\n        build: 'build ' + this.uploadInfo.analysis_con.build,\r\n        storage_url: this.middleFilesResult.appFileUrl,\r\n        version: this.uploadInfo.analysis_con.version,\r\n        size: this.uploadInfo.analysis_con.size + 'M',\r\n        previews: this.middleFilesResult.previews,\r\n        // update_description: obj.update_description,\r\n        package_type: ''\r\n        // package_type: obj.package_type\r\n      });\r\n      this.loadding.close();\r\n\r\n      console.log('上传结果');\r\n      console.log(uploadResult);\r\n      if (uploadResult.statusCode === 75500) {\r\n        return this.$zero.notify({\r\n          title: '应用创建失败',\r\n          message: `服务繁忙，上传失败，请稍后再试`,\r\n          duration: 0\r\n        });\r\n      }\r\n      if (uploadResult.statusCode !== 75200 && uploadResult.statusCode !== 75201) {\r\n        return this.$zero.notify({\r\n          title: '应用创建失败',\r\n          message: `应用创建失败，错误码:${uploadResult.statusCode}`,\r\n          duration: 0\r\n        });\r\n      }\r\n\r\n      // 新建成功\r\n      this.$zero.notify({\r\n        title: '应用创建成功',\r\n        message: '新建了一个Andriod应用，可在控制台查看',\r\n        duration: 0\r\n      });\r\n\r\n      setTimeout(() => {\r\n        // this.$router.push('/');\r\n        // 返回上一层\r\n        this.$router.go(-1);\r\n      }, 2000);\r\n    },\r\n\r\n    // 点击了创建应用按钮\r\n    async addBtn() {\r\n      console.log(\"点击了创建应用按钮\");\r\n      /**\r\n       * 点击了创建的流程，后面可等待优化\r\n       *  1. 先去单独的上传应用包 -----> 换取应用包的网络链接地址\r\n       *  2. 上传预览图 ----> 换取预览连接地址\r\n       *  3. 上传base64位logo ---> 换取logo地址\r\n       *  4. 拿到上述三个东西之后，再拿去已有的信息，上传，所有信息，创建成功\r\n       */\r\n\r\n      // 在这里统筹全局\r\n      try {\r\n        // 通过文件换取url地址\r\n        this.loadding = this.$zero.wholeLoadding({ text: '上传应用包中...' });\r\n        let uploadAppResult = await this.mixinUploadApp2url(this.appFile[0]);\r\n        this.loadding.close();\r\n        if (!uploadAppResult) {\r\n          // 如果不存在则执行出错了\r\n          return console.log('上传文件就出错了！');\r\n        }\r\n        // 结果存下来\r\n        this.middleFilesResult.appFileUrl = uploadAppResult.file; // 这个也存储成功了\r\n\r\n        // 上传完成应用包之后 上传预览\r\n        await this.uploadPreviewImg();\r\n\r\n      } catch (e) {\r\n        console.log('执行过程出错了');\r\n        console.log(e);\r\n      }\r\n    },\r\n\r\n  },\r\n  created() {\r\n    // 从Ios选择应用包来的\r\n    if (this.$route.params.file) {\r\n      this.uploadFile(this.$route.params.file);\r\n    }\r\n\r\n  },\r\n  components: {\r\n    AppInfo,\r\n    AppVersion,\r\n    AppPreviewImg,\r\n    AppAddBtn,\r\n    uploadApp,\r\n    selectLocation,\r\n    viewRange\r\n  }\r\n};\r\n</script>\r\n<style>\r\n.add_new_app {\r\n  height: calc(100% - 51px);\r\n}\r\n.ana_content {\r\n  margin: 20px 35px;\r\n}\r\n.ana_content_wrap {\r\n  padding: 0 40px;\r\n  background: #fff;\r\n}\r\n.ana-cover-wrap {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./createAndriod.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./createAndriod.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./createAndriod.vue?vue&type=template&id=4e1bd38a&\"\nimport script from \"./createAndriod.vue?vue&type=script&lang=js&\"\nexport * from \"./createAndriod.vue?vue&type=script&lang=js&\"\nimport style0 from \"./createAndriod.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}