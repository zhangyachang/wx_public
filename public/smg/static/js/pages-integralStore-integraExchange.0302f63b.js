(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-integralStore-integraExchange"],{1729:function(t,e,i){"use strict";var a=i("207c"),n=i.n(a);n.a},"207c":function(t,e,i){var a=i("a6ac");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("d3efb082",a,!0,{sourceMap:!1,shadowMode:!1})},2962:function(t,e,i){"use strict";i.r(e);var a=i("d850"),n=i("8251");for(var o in n)"default"!==o&&function(t){i.d(e,t,function(){return n[t]})}(o);i("db1d");var s=i("2877"),r=Object(s["a"])(n["default"],a["a"],a["b"],!1,null,"1c2f5f88",null);e["default"]=r.exports},"2afc":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("c5f6");var a={name:"load-more",props:{loadingType:{type:Number,default:0},showImage:{type:Boolean,default:!0},color:{type:String,default:"#777777"},contentText:{type:Object,default:function(){return{contentdown:"上拉显示更多",contentrefresh:"正在加载...",contentnomore:"没有更多数据了"}}}},data:function(){return{}}};e.default=a},"479f":function(t,e,i){"use strict";i.r(e);var a=i("4da8"),n=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,function(){return a[t]})}(o);e["default"]=n.a},"4da8":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={props:{content:{type:String,required:!0},color:{type:String,default:"#000"},delta:{default:1}},data:function(){return{statusTop:0}},onLoad:function(){var t=this;wx.getSystemInfo({success:function(e){t.statusTop=e.statusBarHeight}})},methods:{back:function(){var t=this;uni.navigateBack({delta:t.delta})}}};e.default=a},8251:function(t,e,i){"use strict";i.r(e);var a=i("2afc"),n=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,function(){return a[t]})}(o);e["default"]=n.a},"8ae0":function(t,e,i){"use strict";i.r(e);var a=i("ad6f"),n=i("a713");for(var o in n)"default"!==o&&function(t){i.d(e,t,function(){return n[t]})}(o);i("1729");var s=i("2877"),r=Object(s["a"])(n["default"],a["a"],a["b"],!1,null,"6c72ecce",null);e["default"]=r.exports},"8f12":function(t,e,i){"use strict";var a=i("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("96cf");var n=a(i("3b8d")),o=a(i("e44a")),s=a(i("2962")),r={data:function(){return{loadingText:"加载中...",loadingType:0,contentText:{contentdown:"上拉显示更多",contentrefresh:"正在加载...",contentnomore:"没有更多数据了"},titleHeight:"",navSection:[],pageSize:10,selectNavBarIndex:0,goodsData:[[{}]],reqPageIndex:{}}},methods:{switchNav:function(t){console.log("点击了我"),console.log(t),this.selectNavBarIndex!==t&&(this.selectNavBarIndex=t,this.reqPageIndex[this.selectNavBarIndex]?console.log("不请求"):(this.loadingType=0,this.judgeReqData()))},getIntegral:function(){var t=(0,n.default)(regeneratorRuntime.mark(function t(){var e,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$api.goods.getGoodSection();case 2:if(e=t.sent,console.log("积分区间"),console.log(e),75500!==e.statusCode){t.next=7;break}return t.abrupt("return",this.$utils.showToast("积分区间获取失败"));case 7:for(this.navSection=e.result,this.goodsData=[],i=0;i<this.navSection.length;i++)this.goodsData.push([]);console.log("这里是初始化goodData"),console.log(this.goodsData),this.judgeReqData();case 13:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),judgeReqData:function(t){var e=this.navSection[this.selectNavBarIndex];console.log(111),console.log(e),this.reqPageIndex[this.selectNavBarIndex]="loadmore"===t?this.reqPageIndex[this.selectNavBarIndex]+1:1;var i=this.reqPageIndex[this.selectNavBarIndex];"all"===e.type?this.getGoodsList({type:"all",pageIndex:i,min:e.min,max:e.max}):"max"===e.type?this.getGoodsList({type:"max",pageIndex:i,min:e.min,max:e.max}):this.getGoodsList({type:"section",pageIndex:i,min:e.min,max:e.max})},getGoodsList:function(){var t=(0,n.default)(regeneratorRuntime.mark(function t(e){var i,a,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(0===this.loadingType){t.next=2;break}return t.abrupt("return",!1);case 2:return this.loadingType=1,uni.showNavigationBarLoading(),i=this,t.next=7,this.$api.goods.getGoodsList({pageIndex:e.pageIndex,pageSize:i.pageSize,type:e.type,max:e.max,min:e.min,platform:"wx"});case 7:if(a=t.sent,console.log("商品信息获取"),console.log(a),75500!==a.statusCode){t.next=12;break}return t.abrupt("return",this.$utils.showToast("服务异常，请稍后重试"));case 12:if(0!==a.result.length){t.next=16;break}return this.loadingType=2,uni.hideNavigationBarLoading(),t.abrupt("return");case 16:for(n=0;n<a.result.length;n++)this.goodsData[this.selectNavBarIndex].push(a.result[n]);1===e.pageIndex&&this.goodsData[this.selectNavBarIndex].length<this.pageSize?(console.log("没有数据"),this.loadingType=2):(console.log("还有数据"),this.loadingType=0),uni.hideNavigationBarLoading();case 19:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),goGoodsDetail:function(t){uni.navigateTo({url:"/pages/integralStore/goodsDetail?goodsId="+t})}},onReachBottom:function(){this.judgeReqData("loadmore")},onLoad:function(){var t=this;this.getIntegral(),setTimeout(function(){var e=wx.createSelectorQuery();e.select(".ie-title").boundingClientRect(function(e){var i=e.height;console.log("height"),console.log(i),t.titleHeight=i}).exec()},500)},components:{HeaderTitle:o.default,loadMore:s.default}};e.default=r},a66a:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".load-more[data-v-1c2f5f88]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;height:%?80?%;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;padding-bottom:%?10?%}.loading-img[data-v-1c2f5f88]{height:24px;width:24px;margin-right:10px}.loading-text[data-v-1c2f5f88]{font-size:%?28?%;color:#777}.loading-img>uni-view[data-v-1c2f5f88]{position:absolute}.load1[data-v-1c2f5f88],.load2[data-v-1c2f5f88],.load3[data-v-1c2f5f88]{height:24px;width:24px}.load2[data-v-1c2f5f88]{-webkit-transform:rotate(30deg);-ms-transform:rotate(30deg);transform:rotate(30deg)}.load3[data-v-1c2f5f88]{-webkit-transform:rotate(60deg);-ms-transform:rotate(60deg);transform:rotate(60deg)}.loading-img>uni-view uni-view[data-v-1c2f5f88]{width:6px;height:2px;border-top-left-radius:1px;border-bottom-left-radius:1px;background:#777;position:absolute;opacity:.2;-webkit-transform-origin:50%;-ms-transform-origin:50%;transform-origin:50%;-webkit-animation:load-data-v-1c2f5f88 1.56s ease infinite}.loading-img>uni-view uni-view[data-v-1c2f5f88]:first-child{-webkit-transform:rotate(90deg);-ms-transform:rotate(90deg);transform:rotate(90deg);top:2px;left:9px}.loading-img>uni-view uni-view[data-v-1c2f5f88]:nth-child(2){-webkit-transform:rotate(180deg);top:11px;right:0}.loading-img>uni-view uni-view[data-v-1c2f5f88]:nth-child(3){-webkit-transform:rotate(270deg);-ms-transform:rotate(270deg);transform:rotate(270deg);bottom:2px;left:9px}.loading-img>uni-view uni-view[data-v-1c2f5f88]:nth-child(4){top:11px;left:0}.load1 uni-view[data-v-1c2f5f88]:first-child{-webkit-animation-delay:0s;animation-delay:0s}.load2 uni-view[data-v-1c2f5f88]:first-child{-webkit-animation-delay:.13s;animation-delay:.13s}.load3 uni-view[data-v-1c2f5f88]:first-child{-webkit-animation-delay:.26s;animation-delay:.26s}.load1 uni-view[data-v-1c2f5f88]:nth-child(2){-webkit-animation-delay:.39s;animation-delay:.39s}.load2 uni-view[data-v-1c2f5f88]:nth-child(2){-webkit-animation-delay:.52s;animation-delay:.52s}.load3 uni-view[data-v-1c2f5f88]:nth-child(2){-webkit-animation-delay:.65s;animation-delay:.65s}.load1 uni-view[data-v-1c2f5f88]:nth-child(3){-webkit-animation-delay:.78s;animation-delay:.78s}.load2 uni-view[data-v-1c2f5f88]:nth-child(3){-webkit-animation-delay:.91s;animation-delay:.91s}.load3 uni-view[data-v-1c2f5f88]:nth-child(3){-webkit-animation-delay:1.04s;animation-delay:1.04s}.load1 uni-view[data-v-1c2f5f88]:nth-child(4){-webkit-animation-delay:1.17s;animation-delay:1.17s}.load2 uni-view[data-v-1c2f5f88]:nth-child(4){-webkit-animation-delay:1.3s;animation-delay:1.3s}.load3 uni-view[data-v-1c2f5f88]:nth-child(4){-webkit-animation-delay:1.43s;animation-delay:1.43s}@-webkit-keyframes load-data-v-1c2f5f88{0%{opacity:1}to{opacity:.2}}",""])},a6ac:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".integra-exchange .ie-title[data-v-6c72ecce]{position:-webkit-sticky;position:sticky;top:0;z-index:99;background:#fff}.integre-exchange-nav[data-v-6c72ecce]{position:-webkit-sticky;position:sticky;\r\n\t/* top: 200upx; */z-index:99;background:#fff}.ien-list[data-v-6c72ecce]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-justify-content:space-around;-ms-flex-pack:distribute;justify-content:space-around;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;width:%?700?%;height:%?70?%;margin:auto;color:#7c7c7c}.ien-item[data-v-6c72ecce]{border-bottom:%?10?% solid rgba(0,0,0,0)}.ien-item.active[data-v-6c72ecce]{border-bottom:%?10?% solid #05c492;color:#11b780}\r\n/* 商品列表 */.integre-list-wrap[data-v-6c72ecce]{padding-top:%?10?%}.integre-list-list[data-v-6c72ecce]{-webkit-box-sizing:border-box;box-sizing:border-box;width:%?700?%;padding:0 %?25?%;margin:auto;border-radius:%?8?%}.shop-info[data-v-6c72ecce]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;font-size:%?28?%}.shop-info .shop-name[data-v-6c72ecce]{color:#333}.shop-info .shop-tips[data-v-6c72ecce]{color:#7c7c7c;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;\r\n\t/* vertical-align: bottom; */-webkit-box-align:end;-webkit-align-items:flex-end;-ms-flex-align:end;align-items:flex-end}.shop-info .shop-tips .num[data-v-6c72ecce]{color:#ffa300}.shop-info .shop-tips .shop-tips-stock[data-v-6c72ecce]{font-size:%?22?%;color:#999;\r\n\t/* padding-top: 10upx; */margin-left:%?20?%}.integre-list-item[data-v-6c72ecce]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;margin-left:%?30?%;padding:%?9?% 0;border-bottom:1px solid #ccc}.integre-list-item[data-v-6c72ecce]:last-child{border-bottom:none}.integre-list-item .shopimg[data-v-6c72ecce]{overflow:hidden;width:%?140?%;height:%?140?%;border:1px solid #eee;border-radius:%?9?%}.integre-list-item .shopimg img[data-v-6c72ecce]{width:100%;height:100%}.shop-name-wrap[data-v-6c72ecce]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;padding:%?15?% 0 %?15?% %?25?%}.integre-list-item-btn[data-v-6c72ecce]{position:relative;width:%?120?%;height:%?60?%;font-size:%?28?%;text-align:center;line-height:%?60?%;color:#fff}.integre-list-item-btn uni-image[data-v-6c72ecce]{position:absolute;z-index:-1;top:%?-15?%;left:%?-15?%;width:%?150?%;height:%?90?%}\r\n",""])},a713:function(t,e,i){"use strict";i.r(e);var a=i("8f12"),n=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,function(){return a[t]})}(o);e["default"]=n.a},ad6f:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"integra-exchange"},[i("v-uni-view",{staticClass:"integre-exchange-nav",style:{top:t.titleHeight+"px"}},[i("v-uni-view",{staticClass:"ien-list"},t._l(t.navSection,function(e,a){return i("v-uni-view",{key:a,staticClass:"ien-item",class:{active:t.selectNavBarIndex===a},on:{click:function(e){e=t.$handleEvent(e),t.switchNav(a)}}},[t._v(t._s("all"===e.type?"全部":"max"===e.type?">"+e.max:e.min+"-"+e.max))])}),1)],1),i("v-uni-view",{staticClass:"integre-list-wrap"},[i("v-uni-view",{staticClass:"integre-list-list box-shadow"},t._l(t.goodsData[t.selectNavBarIndex],function(e){return i("v-uni-view",{key:e._id,staticClass:"integre-list-item",on:{click:function(i){i=t.$handleEvent(i),t.goGoodsDetail(e._id)}}},[i("v-uni-view",{staticClass:"shop-info"},[i("v-uni-view",{staticClass:"shopimg"},[i("img",{attrs:{src:e.icon,alt:""}})]),i("v-uni-view",{staticClass:"shop-name-wrap"},[i("v-uni-view",{staticClass:"shop-name"},[t._v(t._s(e.name))]),i("v-uni-view",{staticClass:"shop-tips"},[i("v-uni-view",[i("v-uni-text",{staticClass:"num"},[t._v(t._s(e.integral))]),t._v("积分")],1),i("v-uni-view",{staticClass:"shop-tips-stock"},[t._v("库存 "+t._s(e.stock))])],1)],1)],1),i("v-uni-view",{staticClass:"integre-list-item-btn"},[i("v-uni-image",{attrs:{src:"../../static/img/integralStore/exchange.png",mode:""}}),i("v-uni-text",[t._v("去兑换")])],1)],1)}),1)],1),i("load-more",{attrs:{loadingType:t.loadingType,contentText:t.contentText}})],1)},n=[];i.d(e,"a",function(){return a}),i.d(e,"b",function(){return n})},ba20:function(t,e,i){var a=i("a66a");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("7a5178da",a,!0,{sourceMap:!1,shadowMode:!1})},d850:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"load-more"},[i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:1===t.loadingType&&t.showImage,expression:"loadingType === 1 && showImage"}],staticClass:"loading-img"},[i("v-uni-view",{staticClass:"load1"},[i("v-uni-view",{style:{background:t.color}}),i("v-uni-view",{style:{background:t.color}}),i("v-uni-view",{style:{background:t.color}}),i("v-uni-view",{style:{background:t.color}})],1),i("v-uni-view",{staticClass:"load2"},[i("v-uni-view",{style:{background:t.color}}),i("v-uni-view",{style:{background:t.color}}),i("v-uni-view",{style:{background:t.color}}),i("v-uni-view",{style:{background:t.color}})],1),i("v-uni-view",{staticClass:"load3"},[i("v-uni-view",{style:{background:t.color}}),i("v-uni-view",{style:{background:t.color}}),i("v-uni-view",{style:{background:t.color}}),i("v-uni-view",{style:{background:t.color}})],1)],1),i("v-uni-text",{staticClass:"loading-text",style:{color:t.color}},[t._v(t._s(0===t.loadingType?t.contentText.contentdown:1===t.loadingType?t.contentText.contentrefresh:t.contentText.contentnomore))])],1)},n=[];i.d(e,"a",function(){return a}),i.d(e,"b",function(){return n})},db1d:function(t,e,i){"use strict";var a=i("ba20"),n=i.n(a);n.a},e44a:function(t,e,i){"use strict";i.r(e);var a=i("ed82"),n=i("479f");for(var o in n)"default"!==o&&function(t){i.d(e,t,function(){return n[t]})}(o);var s=i("2877"),r=Object(s["a"])(n["default"],a["a"],a["b"],!1,null,"0a0d4634",null);e["default"]=r.exports},ed82:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"title-contents flex flex-center",style:{paddingTop:t.statusTop+"px"}},["#fff"===t.color?[i("v-uni-image",{attrs:{src:"../../static/img/back_icon.png",mode:""},on:{click:function(e){e=t.$handleEvent(e),t.back(e)}}})]:[i("v-uni-image",{attrs:{src:"../../static/img/jiantou_black_icon.png",mode:""},on:{click:function(e){e=t.$handleEvent(e),t.back(e)}}})],i("v-uni-text",{style:"color:"+t.color},[t._v(t._s(t.content))])],2)},n=[];i.d(e,"a",function(){return a}),i.d(e,"b",function(){return n})}}]);