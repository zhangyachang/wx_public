(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-integralStore-integraExchange"],{"216c":function(e,t,i){var a=i("ab49");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var n=i("4f06").default;n("68a759e2",a,!0,{sourceMap:!1,shadowMode:!1})},2962:function(e,t,i){"use strict";i.r(t);var a=i("d850"),n=i("8251");for(var o in n)"default"!==o&&function(e){i.d(t,e,function(){return n[e]})}(o);i("db1d");var s=i("2877"),r=Object(s["a"])(n["default"],a["a"],a["b"],!1,null,"1c2f5f88",null);t["default"]=r.exports},"2afc":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i("c5f6");var a={name:"load-more",props:{loadingType:{type:Number,default:0},showImage:{type:Boolean,default:!0},color:{type:String,default:"#777777"},contentText:{type:Object,default:function(){return{contentdown:"上拉显示更多",contentrefresh:"正在加载...",contentnomore:"没有更多数据了"}}}},data:function(){return{}}};t.default=a},"479f":function(e,t,i){"use strict";i.r(t);var a=i("4da8"),n=i.n(a);for(var o in a)"default"!==o&&function(e){i.d(t,e,function(){return a[e]})}(o);t["default"]=n.a},"4da8":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={props:{content:{type:String,required:!0},color:{type:String,default:"#000"},delta:{default:1}},data:function(){return{statusTop:0}},onLoad:function(){var e=this;wx.getSystemInfo({success:function(t){e.statusTop=t.statusBarHeight}})},methods:{back:function(){var e=this;uni.navigateBack({delta:e.delta})}}};t.default=a},"4f11":function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"integra-exchange"},[i("v-uni-view",{staticClass:"integre-exchange-nav",style:{top:e.titleHeight+"px"}},[i("v-uni-view",{staticClass:"ien-list"},e._l(e.navSection,function(t,a){return i("v-uni-view",{key:a,staticClass:"ien-item",class:{active:e.selectNavBarIndex===a},on:{click:function(t){t=e.$handleEvent(t),e.switchNav(a)}}},[e._v(e._s("all"===t.type?"全部":"max"===t.type?">"+t.max:t.min+"-"+t.max))])}),1)],1),i("v-uni-view",{staticClass:"integre-list-wrap"},[i("v-uni-view",{staticClass:"integre-list-list box-shadow"},e._l(e.goodsData[e.selectNavBarIndex],function(t){return i("v-uni-view",{key:t._id,staticClass:"integre-list-item",on:{click:function(i){i=e.$handleEvent(i),e.goGoodsDetail(t._id)}}},[i("v-uni-view",{staticClass:"shop-info"},[i("v-uni-view",{staticClass:"shopimg"},[i("img",{attrs:{src:t.icon,alt:""}})]),i("v-uni-view",{staticClass:"shop-name-wrap"},[i("v-uni-view",{staticClass:"shop-name"},[e._v(e._s(t.name))]),i("v-uni-view",{staticClass:"shop-tips"},[i("v-uni-view",[i("v-uni-text",{staticClass:"num"},[e._v(e._s(t.integral))]),e._v("积分")],1),i("v-uni-view",{staticClass:"shop-tips-stock"},[e._v("库存 "+e._s(t.stock))])],1)],1)],1),i("v-uni-view",{staticClass:"integre-list-item-btn"},[i("v-uni-image",{attrs:{src:"../../static/img/integralStore/exchange.png",mode:""}}),i("v-uni-text",[e._v("去兑换")])],1)],1)}),1)],1),i("load-more",{attrs:{loadingType:e.loadingType,contentText:e.contentText}})],1)},n=[];i.d(t,"a",function(){return a}),i.d(t,"b",function(){return n})},6116:function(e,t,i){"use strict";var a=i("216c"),n=i.n(a);n.a},8251:function(e,t,i){"use strict";i.r(t);var a=i("2afc"),n=i.n(a);for(var o in a)"default"!==o&&function(e){i.d(t,e,function(){return a[e]})}(o);t["default"]=n.a},"8ae0":function(e,t,i){"use strict";i.r(t);var a=i("4f11"),n=i("a713");for(var o in n)"default"!==o&&function(e){i.d(t,e,function(){return n[e]})}(o);i("6116");var s=i("2877"),r=Object(s["a"])(n["default"],a["a"],a["b"],!1,null,"3b7ee49e",null);t["default"]=r.exports},"8f12":function(e,t,i){"use strict";var a=i("288e");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i("96cf");var n=a(i("3b8d")),o=a(i("e44a")),s=a(i("2962")),r={data:function(){return{loadingText:"加载中...",loadingType:0,contentText:{contentdown:"上拉显示更多",contentrefresh:"正在加载...",contentnomore:"没有更多数据了"},titleHeight:"",navSection:[],pageSize:10,selectNavBarIndex:0,goodsData:[[{}]],reqPageIndex:{}}},methods:{switchNav:function(e){console.log("点击了我"),console.log(e),this.selectNavBarIndex!==e&&(this.selectNavBarIndex=e,this.reqPageIndex[this.selectNavBarIndex]?console.log("不请求"):(this.loadingType=0,this.judgeReqData()))},getIntegral:function(){var e=(0,n.default)(regeneratorRuntime.mark(function e(){var t,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$api.goods.getGoodSection();case 2:if(t=e.sent,console.log("积分区间"),console.log(t),75500!==t.statusCode){e.next=7;break}return e.abrupt("return",this.$utils.showToast("积分区间获取失败"));case 7:for(this.navSection=t.result,this.goodsData=[],i=0;i<this.navSection.length;i++)this.goodsData.push([]);console.log("这里是初始化goodData"),console.log(this.goodsData),this.judgeReqData();case 13:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),judgeReqData:function(e){var t=this.navSection[this.selectNavBarIndex];console.log(111),console.log(t),this.reqPageIndex[this.selectNavBarIndex]="loadmore"===e?this.reqPageIndex[this.selectNavBarIndex]+1:1;var i=this.reqPageIndex[this.selectNavBarIndex];"all"===t.type?this.getGoodsList({type:"all",pageIndex:i,min:t.min,max:t.max}):"max"===t.type?this.getGoodsList({type:"max",pageIndex:i,min:t.min,max:t.max}):this.getGoodsList({type:"section",pageIndex:i,min:t.min,max:t.max})},getGoodsList:function(){var e=(0,n.default)(regeneratorRuntime.mark(function e(t){var i,a,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(0===this.loadingType){e.next=2;break}return e.abrupt("return",!1);case 2:return this.loadingType=1,uni.showNavigationBarLoading(),i=this,e.next=7,this.$api.goods.getGoodsList({pageIndex:t.pageIndex,pageSize:i.pageSize,type:t.type,max:t.max,min:t.min,platform:"wx"});case 7:if(a=e.sent,console.log("商品信息获取"),console.log(a),75500!==a.statusCode){e.next=12;break}return e.abrupt("return",this.$utils.showToast("服务异常，请稍后重试"));case 12:if(0!==a.result.length){e.next=16;break}return this.loadingType=2,uni.hideNavigationBarLoading(),e.abrupt("return");case 16:for(n=0;n<a.result.length;n++)this.goodsData[this.selectNavBarIndex].push(a.result[n]);1===t.pageIndex&&this.goodsData[this.selectNavBarIndex].length<this.pageSize?(console.log("没有数据"),this.loadingType=2):(console.log("还有数据"),this.loadingType=0),uni.hideNavigationBarLoading();case 19:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),goGoodsDetail:function(e){uni.navigateTo({url:"/pages/integralStore/goodsDetail?goodsId="+e})}},onReachBottom:function(){this.judgeReqData("loadmore")},onLoad:function(){var e=this;this.getIntegral(),setTimeout(function(){var t=wx.createSelectorQuery();t.select(".ie-title").boundingClientRect(function(t){var i=t.height;console.log("height"),console.log(i),e.titleHeight=i}).exec()},500)},components:{HeaderTitle:o.default,loadMore:s.default}};t.default=r},a66a:function(e,t,i){t=e.exports=i("2350")(!1),t.push([e.i,".load-more[data-v-1c2f5f88]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;height:%?80?%;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;padding-bottom:%?10?%}.loading-img[data-v-1c2f5f88]{height:24px;width:24px;margin-right:10px}.loading-text[data-v-1c2f5f88]{font-size:%?28?%;color:#777}.loading-img>uni-view[data-v-1c2f5f88]{position:absolute}.load1[data-v-1c2f5f88],.load2[data-v-1c2f5f88],.load3[data-v-1c2f5f88]{height:24px;width:24px}.load2[data-v-1c2f5f88]{-webkit-transform:rotate(30deg);-ms-transform:rotate(30deg);transform:rotate(30deg)}.load3[data-v-1c2f5f88]{-webkit-transform:rotate(60deg);-ms-transform:rotate(60deg);transform:rotate(60deg)}.loading-img>uni-view uni-view[data-v-1c2f5f88]{width:6px;height:2px;border-top-left-radius:1px;border-bottom-left-radius:1px;background:#777;position:absolute;opacity:.2;-webkit-transform-origin:50%;-ms-transform-origin:50%;transform-origin:50%;-webkit-animation:load-data-v-1c2f5f88 1.56s ease infinite}.loading-img>uni-view uni-view[data-v-1c2f5f88]:first-child{-webkit-transform:rotate(90deg);-ms-transform:rotate(90deg);transform:rotate(90deg);top:2px;left:9px}.loading-img>uni-view uni-view[data-v-1c2f5f88]:nth-child(2){-webkit-transform:rotate(180deg);top:11px;right:0}.loading-img>uni-view uni-view[data-v-1c2f5f88]:nth-child(3){-webkit-transform:rotate(270deg);-ms-transform:rotate(270deg);transform:rotate(270deg);bottom:2px;left:9px}.loading-img>uni-view uni-view[data-v-1c2f5f88]:nth-child(4){top:11px;left:0}.load1 uni-view[data-v-1c2f5f88]:first-child{-webkit-animation-delay:0s;animation-delay:0s}.load2 uni-view[data-v-1c2f5f88]:first-child{-webkit-animation-delay:.13s;animation-delay:.13s}.load3 uni-view[data-v-1c2f5f88]:first-child{-webkit-animation-delay:.26s;animation-delay:.26s}.load1 uni-view[data-v-1c2f5f88]:nth-child(2){-webkit-animation-delay:.39s;animation-delay:.39s}.load2 uni-view[data-v-1c2f5f88]:nth-child(2){-webkit-animation-delay:.52s;animation-delay:.52s}.load3 uni-view[data-v-1c2f5f88]:nth-child(2){-webkit-animation-delay:.65s;animation-delay:.65s}.load1 uni-view[data-v-1c2f5f88]:nth-child(3){-webkit-animation-delay:.78s;animation-delay:.78s}.load2 uni-view[data-v-1c2f5f88]:nth-child(3){-webkit-animation-delay:.91s;animation-delay:.91s}.load3 uni-view[data-v-1c2f5f88]:nth-child(3){-webkit-animation-delay:1.04s;animation-delay:1.04s}.load1 uni-view[data-v-1c2f5f88]:nth-child(4){-webkit-animation-delay:1.17s;animation-delay:1.17s}.load2 uni-view[data-v-1c2f5f88]:nth-child(4){-webkit-animation-delay:1.3s;animation-delay:1.3s}.load3 uni-view[data-v-1c2f5f88]:nth-child(4){-webkit-animation-delay:1.43s;animation-delay:1.43s}@-webkit-keyframes load-data-v-1c2f5f88{0%{opacity:1}to{opacity:.2}}",""])},a713:function(e,t,i){"use strict";i.r(t);var a=i("8f12"),n=i.n(a);for(var o in a)"default"!==o&&function(e){i.d(t,e,function(){return a[e]})}(o);t["default"]=n.a},ab49:function(e,t,i){t=e.exports=i("2350")(!1),t.push([e.i,".integra-exchange .ie-title[data-v-3b7ee49e]{position:-webkit-sticky;position:sticky;top:0;z-index:99;background:#fff}.integre-exchange-nav[data-v-3b7ee49e]{position:-webkit-sticky;position:sticky;\r\n\t/* top: 200upx; */z-index:99;font-size:%?28?%;background:#fff}.ien-list[data-v-3b7ee49e]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-justify-content:space-around;-ms-flex-pack:distribute;justify-content:space-around;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;width:%?700?%;height:%?70?%;margin:auto;color:#7c7c7c}.ien-item[data-v-3b7ee49e]{border-bottom:%?10?% solid rgba(0,0,0,0)}.ien-item.active[data-v-3b7ee49e]{border-bottom:%?10?% solid #05c492;color:#11b780}\r\n/* 商品列表 */.integre-list-wrap[data-v-3b7ee49e]{padding-top:%?10?%}.integre-list-list[data-v-3b7ee49e]{-webkit-box-sizing:border-box;box-sizing:border-box;width:%?700?%;padding:0 %?25?%;margin:auto;border-radius:%?8?%}.shop-info[data-v-3b7ee49e]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;font-size:%?28?%}.shop-info .shop-name[data-v-3b7ee49e]{color:#333}.shop-info .shop-tips[data-v-3b7ee49e]{color:#7c7c7c;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;\r\n\t/* vertical-align: bottom; */-webkit-box-align:end;-webkit-align-items:flex-end;-ms-flex-align:end;align-items:flex-end}.shop-info .shop-tips .num[data-v-3b7ee49e]{color:#ffa300}.shop-info .shop-tips .shop-tips-stock[data-v-3b7ee49e]{font-size:%?22?%;color:#999;\r\n\t/* padding-top: 10upx; */margin-left:%?20?%}.integre-list-item[data-v-3b7ee49e]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;margin-left:%?30?%;padding:%?9?% 0;border-bottom:1px solid #ccc}.integre-list-item[data-v-3b7ee49e]:last-child{border-bottom:none}.integre-list-item .shopimg[data-v-3b7ee49e]{overflow:hidden;width:%?140?%;height:%?140?%;border:1px solid #eee;border-radius:%?9?%}.integre-list-item .shopimg img[data-v-3b7ee49e]{width:100%;height:100%}.shop-name-wrap[data-v-3b7ee49e]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;padding:%?15?% 0 %?15?% %?25?%}.integre-list-item-btn[data-v-3b7ee49e]{position:relative;width:%?120?%;height:%?60?%;font-size:%?28?%;text-align:center;line-height:%?60?%;color:#fff}.integre-list-item-btn uni-image[data-v-3b7ee49e]{position:absolute;z-index:-1;top:%?-15?%;left:%?-15?%;width:%?150?%;height:%?90?%}\r\n",""])},ba20:function(e,t,i){var a=i("a66a");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var n=i("4f06").default;n("7a5178da",a,!0,{sourceMap:!1,shadowMode:!1})},d850:function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"load-more"},[i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:1===e.loadingType&&e.showImage,expression:"loadingType === 1 && showImage"}],staticClass:"loading-img"},[i("v-uni-view",{staticClass:"load1"},[i("v-uni-view",{style:{background:e.color}}),i("v-uni-view",{style:{background:e.color}}),i("v-uni-view",{style:{background:e.color}}),i("v-uni-view",{style:{background:e.color}})],1),i("v-uni-view",{staticClass:"load2"},[i("v-uni-view",{style:{background:e.color}}),i("v-uni-view",{style:{background:e.color}}),i("v-uni-view",{style:{background:e.color}}),i("v-uni-view",{style:{background:e.color}})],1),i("v-uni-view",{staticClass:"load3"},[i("v-uni-view",{style:{background:e.color}}),i("v-uni-view",{style:{background:e.color}}),i("v-uni-view",{style:{background:e.color}}),i("v-uni-view",{style:{background:e.color}})],1)],1),i("v-uni-text",{staticClass:"loading-text",style:{color:e.color}},[e._v(e._s(0===e.loadingType?e.contentText.contentdown:1===e.loadingType?e.contentText.contentrefresh:e.contentText.contentnomore))])],1)},n=[];i.d(t,"a",function(){return a}),i.d(t,"b",function(){return n})},db1d:function(e,t,i){"use strict";var a=i("ba20"),n=i.n(a);n.a},e44a:function(e,t,i){"use strict";i.r(t);var a=i("ed82"),n=i("479f");for(var o in n)"default"!==o&&function(e){i.d(t,e,function(){return n[e]})}(o);var s=i("2877"),r=Object(s["a"])(n["default"],a["a"],a["b"],!1,null,"0a0d4634",null);t["default"]=r.exports},ed82:function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"title-contents flex flex-center",style:{paddingTop:e.statusTop+"px"}},["#fff"===e.color?[i("v-uni-image",{attrs:{src:"../../static/img/back_icon.png",mode:""},on:{click:function(t){t=e.$handleEvent(t),e.back(t)}}})]:[i("v-uni-image",{attrs:{src:"../../static/img/jiantou_black_icon.png",mode:""},on:{click:function(t){t=e.$handleEvent(t),e.back(t)}}})],i("v-uni-text",{style:"color:"+e.color},[e._v(e._s(e.content))])],2)},n=[];i.d(t,"a",function(){return a}),i.d(t,"b",function(){return n})}}]);